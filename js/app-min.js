let sources={},markovGenerator=null,decision=document.getElementById("decision"),status=document.getElementById("status"),genButton=document.getElementById("generate");function load(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(e){4===n.readyState&&(200===n.status?t(n.responseText):console.error(n.statusText))},n.onerror=function(e){console.error(n.statusText)},n.send(null)}function setStatus(e){status.innerHTML=e,status.style.display=""===e?"none":"block"}function loadSource(e){setStatus("loading decisions"),load("src/decisions.txt",(function(t){let n=t;setStatus("processing decisions"),markovGenerator=new Text(n),e()}))}function startup(){genButton.addEventListener("click",generateDecision),options=document.getElementsByName("decision-source"),loadSource((function(){generateDecision()}))}function generateDecision(){setStatus("generating decisions"),genButton.disabled="disabled",decision.innerHTML="",setTimeout((function(){let e="";e=getMarkovSentence(getRandomRange(30,40),getRandomRange(70,150)),decision.innerHTML=e,twitter.innerHTML='<a href="https://twitter.com/intent/tweet?text=AI-generated%20explanation%20for%20my%20design%20decisions:%20&quot;'+e+'&quot;%20via%20%40tomgreever at https://designdecisions.ai">Twitter</a>',setStatus(""),genButton.disabled=""}),50)}function getMarkovSentence(e,t){let n="",o=1;do{n=markovGenerator.makeSmallSentence(e,t),o++}while(null==n||"null"==n||""==n||o>50);return n}function getRandomRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}startup();