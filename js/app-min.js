let markovGenerator=null,decision=document.getElementById("decision"),status=document.getElementById("status"),genButton=document.getElementById("generate");function load(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onload=function(e){4===n.readyState&&(200===n.status?t(n.responseText):console.error(n.statusText))},n.onerror=function(e){console.error(n.statusText)},n.send(null)}function setStatus(e){status.style.display=""===e?"none":"block"}function loadSource(e){setStatus("loading"),load("src/decisions.txt",(function(t){let n=t;setStatus("processing"),markovGenerator=new Text(n),e()}))}function startup(){genButton.addEventListener("click",generateDecision),loadSource((function(){generateDecision()}))}function generateDecision(){setStatus("generating decisions"),genButton.disabled="disabled",decision.innerHTML="",setTimeout((function(){let e="";e=getMarkovSentence(getRandomRange(50,60),getRandomRange(70,150)),decision.innerHTML=e,setStatus(""),genButton.disabled=""}),50)}function getMarkovSentence(e,t){let n="",o=1;do{n=markovGenerator.makeSmallSentence(e,t),o++}while(null==n||"null"==n||""==n||o>50);return n}function getRandomRange(e,t){return Math.floor(Math.random()*(t-e+1))+e}startup();